<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JimmyHere's Latest Video (oEmbed)</title>
</head>
<body>
  <h1>JimmyHere's Latest Video</h1>
  <div id="video">Loading...</div>

  <script>
    async function getLatestVideoId() {
      // Use correct channel ID
      const feedUrl = 'https://www.youtube.com/feeds/videos.xml?channel_id=UCfcc8OORrouV1lO_qeIZVNQ';
      const response = await fetch(feedUrl);
      const text = await response.text();
      const parser = new DOMParser();
      const xml = parser.parseFromString(text, 'application/xml');
      const firstEntry = xml.querySelector('entry');
      const videoId = firstEntry.querySelector('yt\\:videoId').textContent;
      return videoId;
    }

    async function loadOEmbed(videoId) {
      const oEmbedUrl = `https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`;
      const response = await fetch(oEmbedUrl);
      const data = await response.json();
      const videoDiv = document.getElementById('video');
      videoDiv.innerHTML = data.html; // This will be the iframe embed
    }

    (async () => {
      try {
        const videoId = await getLatestVideoId();
        await loadOEmbed(videoId);
      } catch (error) {
        console.error('Error:', error);
        document.getElementById('video').textContent = 'Could not load video.';
      }
    })();
  </script>
</body>
</html>
